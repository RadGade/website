function humanized_time_span(e,i,g,a){g=g||{past:[{ceiling:60,text:"$seconds seconds ago"},{ceiling:3600,text:"$minutes minutes ago"},{ceiling:86400,text:"$hours hours ago"},{ceiling:2629744,text:"$days days ago"},{ceiling:31556926,text:"$months months ago"},{ceiling:null,text:"$years years ago"}],future:[{ceiling:60,text:"in $seconds seconds"},{ceiling:3600,text:"in $minutes minutes"},{ceiling:86400,text:"in $hours hours"},{ceiling:2629744,text:"in $days days"},{ceiling:31556926,text:"in $months months"},{ceiling:null,text:"in $years years"}]};a=a||[[31556926,"years"],[2629744,"months"],[86400,"days"],[3600,"hours"],[60,"minutes"],[1,"seconds"]];e=new Date(e);i=i?new Date(i):new Date();var j=(i-e)/1000;var b="past";if(j<0){b="future";j=0-j}function h(){for(var k=0;k<g[b].length;k++){if(g[b][k].ceiling==null||j<=g[b][k].ceiling){return g[b][k]}}return null}function f(){var m=j;var l={};for(var n=0;n<a.length;n++){var k=Math.floor(m/a[n][0]);m=m-(a[n][0]*k);l[a[n][1]]=k}return l}function c(k){var m=f();var l=k.text.replace(/\$(\w+)/g,function(){return m[arguments[1]]});return d(l,m)}function d(m,l){for(var n in l){if(l[n]==1){var k=new RegExp("\\b"+n+"\\b");m=m.replace(k,function(){return arguments[0].replace(/s\b/g,"")})}}return m}return c(h())};