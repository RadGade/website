<!DOCTYPE html>

<html>

<head>



<!-- <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">

<link rel="apple-touch-icon" sizes="60x60" href="favicon.ico/apple-icon-60x60.png">

<link rel="apple-touch-icon" sizes="72x72" href="favicon.ico/apple-icon-72x72.png">

<link rel="apple-touch-icon" sizes="76x76" href="favicon.ico/apple-icon-76x76.png">

<link rel="apple-touch-icon" sizes="114x114" href="favicon.ico/apple-icon-114x114.png">

<link rel="apple-touch-icon" sizes="120x120" href="favicon.ico/apple-icon-120x120.png">

<link rel="apple-touch-icon" sizes="144x144" href="favicon.ico/apple-icon-144x144.png">

<link rel="apple-touch-icon" sizes="152x152" href="favicon.ico/apple-icon-152x152.png">

<link rel="apple-touch-icon" sizes="180x180" href="favicon.ico/apple-icon-180x180.png">


<link rel="icon" type="image/png" sizes="32x32" href="favicon.ico/favicon-32x32.png">

<link rel="icon" type="image/png" sizes="96x96" href="favicon.ico/favicon-96x96.png">

<link rel="icon" type="image/png" sizes="16x16" href="favicon.ico/favicon-16x16.png"> -->


<meta name="msapplication-TileColor" content="#ffffff">

<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">

<meta name="theme-color" content="#ffffff">

<meta name="viewport" content="width=device-width, initial-scale=1.0">






<bold><title>GENDEREV</title></bold>

<style>

.cursor {
  position: fixed;
  left: 0;
  top: 0;
  pointer-events: none;
}
.cursor--small {
  width: 5px;
  height: 5px;
  left: -2.5px;
  top: -2.5px;
  border-radius: 50%;
  z-index: 11000;
  background: var(--color-text);
}
.cursor--canvas {
  width: 100vw;
  height: 100vh;
  z-index: 12000;
}

#postbtn:disabled {
	opacity: 0.6;
  	cursor: not-allowed;
}

hr {
    overflow: visible; /* For IE */
    padding: 0;
    border: none;
    border-top: medium double #333;
    color: #333;
    text-align: center;
}

::-moz-selection { /* Code for Firefox */
  color: #f2f2f2;

  background: darkblue;
}

::selection {
  color: #f2f2f2;
  background: darkblue;
}




		button {

			border-color: transparent;
			border-radius: 3px;
			border-style: solid;
			border-width: 1px;
			box-sizing: unset;
			background-color: transparent;
			margin-top: 0px;
			font-family: Arial;
			font-size: 18px;
			box-shadow: 0px 0px 4px 4px black;
			color: black;
			text-shadow: none;
			transition: 0.1s;
	}

		textarea {
				margin-top: 0px;
				height: 150px;
				font-family:Arial;
				font-size: 25px;
				border-radius: 2px;
				padding: 3px;
				width: 400px;
				margin-bottom: 10px;
				transition: 0.1s;
		}

		::placeholder {
				color: dimgrey;
		}

		textarea:hover {
				box-shadow: 0px 0px 5px black;
				border-radius: 3px;
		}
		.buttons {
				display: flex;
				align-items: center;
				justify-content: center

		}

		#title br + br {margin-top: 0.825rem;}

		#title {
				text-align: center;
				color: #000AFF;
				line-height: 1.375;
				font-weight: 400;
				font-size: 32px;
						margin-bottom: 0px;
						color:  black;
						text-shadow: 0px -1px 0px darkgrey;
						font-family: Arial;
				}


		#question {
				color: #000AFF;
				font-family: 'Arial', sans-serif;
				font-size: 27px;
				line-height: 1.25;
				font-weight: 400;
				text-shadow: 0px 0px 1px darkblue;
				margin-bottom: 10px;


		}


		#profile {
				margin-right: 210px;
				color: darkblue;
				box-shadow: 0px 0px 10px 2px darkblue;

				}

		#profile:hover{
				box-shadow: 0px 0px 10px 2px blue;
			border: 1px solid blue;
			color: blue;
				}

		button:hover {

			box-shadow: 0px 0px 10px 2px black;
			border: 1px solid black;

		}




		body {
				text-shadow: 0px 0px 1px #b68989;
				font-size: 25px;
				color: darkblue;

				background-size: cover;
				background-attachment: fixed;
				font-family: arial;
				cursor: url('cursor.png'), default;
		}



		a:link, a:visited {
				text-decoration: underline;
				text-shadow: 0px 0px 1px black;
				color: blue;
				transition: 0.1s;

		}


		a:hover {

		text-shadow: 0px 2px 2px black;

		}
		#hidden{
			width: 400px;
			word-wrap:break-word;
			background: none;
		}
		#entries {


				box-shadow:0px 0px 9px 2px black;

				border-radius:1px;
				padding-top: 15px;
				padding-bottom: 15px;


				width: 400px;
				word-wrap:break-word;
				background: none;
				transition: 0.1s;

		}

		#entries:hover {
				box-shadow:0px 0px 20px 2px  darkblue;

		}

		#postbtn {
			border-color: red;
			border-radius: 12px;
			border-style: groove;
			border-width: 3px;
			box-sizing: unset;
			background-color: transparent;
			margin-top: 0px;
			font-family: Arial;
			font-size: 25px;
			box-shadow: 0px 0px 4px 4px pink;
			color: #800000;
			text-shadow: none;
		}

		#postbtn:hover {
		box-shadow: 0px 0px 20px red;
		 border: 3px groove red;
		 text-shadow: 1px 1px 1px  red;

		}

		#content{
		text-align: left;
		}

		#sidebar {
			background:#ffffff;
			padding:15px;
			border-radius:2px;
			margin:20px auto 40px auto;
			word-wrap:break-word;
			margin-top: 2px;
			width: 400px;
		}



		#sidebar img {
				border-radius:0px;
				width: 80%;
				height: auto;
		}

		#sidebar .title {

				font-size: 32px;
				letter-spacing: 0rem;
				font-family: Arial;
				margin-bottom: 0px;
				color: black;
				text-shadow: 0px -1px 0px darkgrey;
				font-style: italic;
				text-decoration: underline;
		}


		#sidebar .desc {
				color:  darkblue;
				font-size: 22px;

		}

		#aboutbtn{
				margin-right: 10px;
		}

		.cmt{
		    font-size: 25px;

		    background: none;
		    color: blue;
		    border: 1.4px dashed;
		    text-decoration: underline;
		    padding-bottom: 2px;
			box-shadow: 0px 1px 4px 3px grey;

		}
		.cmt:hover{
			border: 1.4px dashed;
		    box-shadow: 4px 5px 9px dimgrey;
		}


		@media print{

                body{
                        max-width:none;
                }
        }





		@media screen and (max-width: 600px) {
				#sidebar{
				max-width: 90%;
				}


				#profile {
                                margin-right: 4em;
                                }
				button {
				text-shadow: none;
				}
				#sidebar img{
				max-width: 100%;

				}

				textarea{
				max-width: 90%
				}

		}



		</style>
<!-- ANALYTICS -->
<script type="text/javascript">
  (function(e,t){var n=e.amplitude||{_q:[],_iq:{}};var r=t.createElement("script")
  ;r.type="text/javascript"
  ;r.integrity="sha384-3bSR/uIgD42pCWBeq1//B3mI/hPuWdk0L1EUnQIWfGyMOjs0VEoFLhHMqObtv2BA"
  ;r.crossOrigin="anonymous";r.async=true
  ;r.src="https://cdn.amplitude.com/libs/amplitude-5.10.0-min.gz.js"
  ;r.onload=function(){if(!e.amplitude.runQueuedFunctions){
  console.log("[Amplitude] Error: could not load SDK")}}
  ;var i=t.getElementsByTagName("script")[0];i.parentNode.insertBefore(r,i)
  ;function s(e,t){e.prototype[t]=function(){
  this._q.push([t].concat(Array.prototype.slice.call(arguments,0)));return this}}
  var o=function(){this._q=[];return this}
  ;var a=["add","append","clearAll","prepend","set","setOnce","unset"]
  ;for(var u=0;u<a.length;u++){s(o,a[u])}n.Identify=o;var c=function(){this._q=[]
  ;return this}
  ;var l=["setProductId","setQuantity","setPrice","setRevenueType","setEventProperties"]
  ;for(var p=0;p<l.length;p++){s(c,l[p])}n.Revenue=c
  ;var d=["init","logEvent","logRevenue","setUserId","setUserProperties","setOptOut","setVersionName","setDomain","setDeviceId", "enableTracking", "setGlobalUserProperties","identify","clearUserProperties","setGroup","logRevenueV2","regenerateDeviceId","groupIdentify","onInit","logEventWithTimestamp","logEventWithGroups","setSessionId","resetSessionId"]
  ;function v(e){function t(t){e[t]=function(){
  e._q.push([t].concat(Array.prototype.slice.call(arguments,0)))}}
  for(var n=0;n<d.length;n++){t(d[n])}}v(n);n.getInstance=function(e){
  e=(!e||e.length===0?"$default_instance":e).toLowerCase()
  ;if(!n._iq.hasOwnProperty(e)){n._iq[e]={_q:[]};v(n._iq[e])}return n._iq[e]}
  ;e.amplitude=n})(window,document);

  amplitude.getInstance().init("2006e93ea98823903f9b91f0d0742628");
</script>

</head>








<body>
		<div class="buttons"><button id ="profile">view profile </button>  &nbsp&nbsp&nbsp&nbsp&nbsp<button id="login-button">log out</button></div>
		<div id="sidebar"><center><div class="title"><a href="home.html">GENDEREV</a></div><img id = "img1" alt="GENDEREV BANNER" src="Paint_palette.png">


<div class="cursor cursor--small"></div>
      <canvas class="cursor cursor--canvas" resize></canvas>

				<center>

				<div class="post">

				<p id="question">
		 ðŸ—£ What are you thinking about?</p>




		<textarea id="ityped" name="ex2"  placeholder="Say more?" required></textarea>

		<br>


		<button type="button" id="postbtn"> post ðŸ“©</button>

		</div>

		</center>

		<br><br>




		<!-- POSTS -->
		<center>
		<div id="content">
		<p id="file-content"></p>
		</div></center>



    <center><div id="hidden" hidden><h3>Share the revolution.</h3>
		<a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fgenderev.com&text=I%20just%20created%20gender">twitter</a>ãƒ»âœ§ãƒ»<a class="tumblr-share-button" href="https://www.tumblr.com/share">tumblr</a>ãƒ»âœ§ãƒ»<a href="mailto:info@example.com?&subject=&body=https://genderev.com is the future">email</a></div></center>


		<center><br><br>
		<div class="buttons">
		<button id="aboutbtn"> about </button>&nbsp<button id = "helpbtn"> help </button>
		</div></center>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://unpkg.com/blockstack@19.3.0/dist/blockstack.js" integrity="sha384-kscoAgc5pZqovHWSKndfyn3OeKHfRSh+Xc5wYc+E02BuyQV2zwEEHJ7p5drKnRrX" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.24.0/moment.min.js"></script>
<script src="js/blockstack-setup.js"></script>
<script src="js/typewriter.js"></script>


<script>
new TypeWriter('#ityped', ['you know who is transphobic? say it', 'admins are awful at this school.'], {writeDelay: 200});



	

function fetchData() {

    userSession.getFile("statuses.json", { decrypt: false })
    .then((file) => {


    var statuses = JSON.parse(file);
    console.log(statuses);



	for (i in statuses) {
	
	d = new Date(statuses[i].created_at)
        n = d.getTime()
	  var childElement = document.createElement('div');
	var parentid = statuses[i].text
	var postContent = "<span class = 'postcontent'>" + parentid + "</span>"
	var postDate = "<span class = 'date' style='color:black;font-size:23px'>" + moment(statuses[i].created_at).fromNow() + "</span>"
		
	childElement.innerHTML =  "<span id='" + n + "'>" + postContent + "</span>"+"<br><br>" + "<a href='https://genderev.com/home#" +n+"'>"+postDate +"</a>" + "<br><br><button class='cmt'><em>reply</em></button>" + "<div class='reply'></div>"+"<br><hr><br>"
	  document.getElementById("content").appendChild(childElement);
	
var myhash="'/home#"+n+"'"
if(history.pushState) {

    history.pushState(null, null,myhash);

}

else {

    location.hash = myhash;

}

        	
          console.log(moment(statuses.created_at).fromNow());

																
	}



    });
    $('#hidden').show();
}
$(document).ready(function(){
	fetchData();
});

$('#login-button').click(function() {
	signOut();
})


$("#aboutbtn").click(function() {
  window.location.href =("about.html");
});
$("#profile").click(function() {
  window.location.href =("profile.html");
});

$("#helpbtn").click(function() {
  window.location.href = ("help.html");
});



$("#postbtn").click(function() {
  var self = $("#postbtn");
  if (!self.data("add")) {
  self.data("add", true);
  self.text("posted!");
  setTimeout(function() {
  self.text("post ðŸ’Œ").data("add", false);
  }, 1100);
  }
  var statusText = document.getElementById("ityped").value;
  console.log(statusText);
        var status = {
        text: statusText,
        created_at: Date()
  };
 window.scroll({
  top: 200,
  left: 0,
  behavior: 'smooth'
});

var div = document.createElement("div");
div.innerHTML = statusText + "<br><br>" + "<span style='color:black;font-size:23px'>" + moment(Date()).fromNow()  +"</span>"+ "<br><hr><br>";
$("#file-content").prepend(div);


    function saveNewStatus() {
    userSession.getFile("statuses.json", { decrypt: false })
    .then((file) => {

    var statuses = JSON.parse(file);
    statuses.unshift(status);

    userSession.putFile("statuses.json", JSON.stringify(statuses), { encrypt: false })
    });
}
  saveNewStatus();

  $("#ityped").val("");


  });
$("#postbtn").attr('disabled','disabled');

$("#ityped").keyup(function(){
if ((document.getElementById("ityped").value).trim() !== ""){
$("#postbtn").removeAttr('disabled');
}
});

// Get the input field
var input = document.getElementById("ityped");


// Execute a function when the user releases a key on the keyboard
input.addEventListener("keyup",
  function(event) {

  // Number 13 is the "Enter" key on the keyboard
  if (event.keyCode ===
  13) {
    // Cancel the default action, if needed
    event.preventDefault();
    // Trigger the button element with a click
    document.getElementById("postbtn").click();

  }
});






</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/paper.js/0.12.0/paper-core.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/simplex-noise/2.4.0/simplex-noise.min.js"></script>

<script>
let clientX = -100;
let clientY = -100;
const innerCursor = document.querySelector(".cursor--small");

const initCursor = () => {
  // add listener to track the current mouse position
  document.addEventListener("mousemove", e => {
    clientX = e.clientX;
    clientY = e.clientY;
  });

  // transform the innerCursor to the current mouse position
  // use requestAnimationFrame() for smooth performance
  const render = () => {
    innerCursor.style.transform = `translate(${clientX}px, ${clientY}px)`;
    // if you are already using TweenMax in your project, you might as well
    // use TweenMax.set() instead
    // TweenMax.set(innerCursor, {
    //   x: clientX,
    //   y: clientY
    // });

    requestAnimationFrame(render);
  };
  requestAnimationFrame(render);
};

initCursor();



let lastX = 0;
let lastY = 0;
let isStuck = false;
let showCursor = false;
let group, stuckX, stuckY, fillOuterCursor;

const initCanvas = () => {
  const canvas = document.querySelector(".cursor--canvas");
  const shapeBounds = {
    width: 75,
    height: 75
  };
  paper.setup(canvas);
  const strokeColor = "rgba(255, 0, 0, 0.5)";
  const strokeWidth = 1;
  const segments = 8;
  const radius = 15;

  // we'll need these later for the noisy circle
  const noiseScale = 150; // speed
  const noiseRange = 4; // range of distortion
  let isNoisy = false; // state

  // the base shape for the noisy circle
  const polygon = new paper.Path.RegularPolygon(
    new paper.Point(0, 0),
    segments,
    radius
  );
  polygon.strokeColor = strokeColor;
  polygon.strokeWidth = strokeWidth;
  polygon.smooth();
  group = new paper.Group([polygon]);
  group.applyMatrix = false;

  const noiseObjects = polygon.segments.map(() => new SimplexNoise());
  let bigCoordinates = [];

  // function for linear interpolation of values
  const lerp = (a, b, n) => {
    return (1 - n) * a + n * b;
  };

  // function to map a value from one range to another range
  const map = (value, in_min, in_max, out_min, out_max) => {
    return (
      ((value - in_min) * (out_max - out_min)) / (in_max - in_min) + out_min
    );
  };

  // the draw loop of Paper.js
  // (60fps with requestAnimationFrame under the hood)
  paper.view.onFrame = event => {
    // using linear interpolation, the circle will move 0.2 (20%)
    // of the distance between its current position and the mouse
    // coordinates per Frame
    lastX = lerp(lastX, clientX, 0.2);
    lastY = lerp(lastY, clientY, 0.2);
    group.position = new paper.Point(lastX, lastY);
  }
}

initCanvas();
		
</script>
<script src="js/prognroll.js"></script>
			
<script>  

$(function() {

  $("body").prognroll({

    height: 5, // progress bar height

    color: "#333399", // progress bar background color

    custom: false // if you make it true, you can add your custom div and see it's scroll progress on the page

  });

});     

	
</script>	
<script async src="js/signedin.js"></script>


        
			



</body>
</html>
